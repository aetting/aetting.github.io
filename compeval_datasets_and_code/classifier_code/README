This directory contains
   probe_classify.py - the code for running MLP classification described in Ettinger et al. (2018) "Assessing Composition in Sentence Vector Representations".
   vocab.txt - a supplementary file used by probe_classify.py
   sr-embs.txt - an example embedding lookup file with the embeddings for the sr task sentences embedded by BOW averaging using 50-dimensional GloVe embeddings

%%%%%%%%%%%%%%%

probe_classify.py takes two arguments:

1) Path to a directory ("traintestdir") holding a) the train.txt and test.txt files for the target task (e.g., "sr", or "order", from the dataset files), *plus* b) a vocab.txt file that lists the lemma forms for the full vocabulary (for the purpose of the 1-hot vectors). The vocab.txt file is included in this directory.
2) Path to a lookup file ("sentembfile") containing the sentence embeddings - this should be a tab-separated file with lines consisting of sentence_ID / sentence / sentence_embedding, for all sentences in train + test for the relevant task (e.g., "sr", or "order", etc). Included in this directory is an example (sr-embs.txt). Note that the sentence IDs should match those in the train.txt and test.txt files.

Run the code as follows:

   python probe_classify.py <path to traintestdir> <path to sentembfile>

This will create a "results" directory in your traintestdir with three sets of results. The "localist" results are the main results with the normal embeddings and correct 1-hot probes. The other two are sanity checks using random probes or random sentence vectors to ensure that neither is independently sufficient to do well on the task.
